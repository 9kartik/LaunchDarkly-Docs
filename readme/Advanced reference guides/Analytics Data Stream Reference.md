---
title: "Analytics Data Stream Reference"
excerpt: ""
---
This document describes the analytics stream format generated by the LaunchDarkly SDKs.
[block:callout]
{
  "type": "info",
  "body": "The Analytics data stream (ADS) is only available to customers on our enterprise plans. If you're interested in learning more about our enterprise plans, contact [sales@launchdarkly.com](mailto:sales@launchdarkly.com?Subject=ADS).",
  "title": "Available to enterprise customers"
}
[/block]
The analytics data stream exposes five different kinds of events:
[block:parameters]
{
  "data": {
    "h-1": "Description",
    "h-0": "Event Kind",
    "0-0": "feature",
    "0-1": "This event includes details of an individual feature flag evaluation.  These are only present if detailed tracking is explicitly enabled for a feature flag, or if an older SDK is in use.",
    "1-0": "summary",
    "1-1": "This event describes a roll-up of individual feature evaluations over an interval.",
    "2-0": "index",
    "2-1": "Details about a user used in feature evaluation for a particular user key",
    "3-0": "identify",
    "4-0": "custom",
    "4-1": "This event passes on data provided in an **explicit** `custom` call to the SDK.",
    "3-1": "This event passes on details about a user provided in an **explicit** `identify` call to the SDK."
  },
  "cols": 2,
  "rows": 5
}
[/block]

[block:callout]
{
  "type": "warning",
  "title": "Enabling detailed analytics events",
  "body": "In order to see \"feature\" events for a feature flag using recent SDKs, you must select “Send detailed event information for this flag” in the \"Settings\" menu for a feature flag.  Older SDKs will always send \"feature\" events regardless of whether detailed tracking is enabled for that flag.  The \"summary\" and \"index\" events described below are also only generated only by newer SDKs.  Older SDKs will also send \"user\" attributes as an object inlined inside \"feature\" event instead of just providing a \"userKey\" that can references user data sent in a prior \"index\" event.\n\nThe minimum SDK version numbers for SDKs support the new \"summary\" and \"index\" events and limit the sending of \"feature\" events are shown below:\n    .NET: **4.0.0**\n    Go: **4.0.0** (aka v4)\n    Java: **4.0.0**\n    Node: **5.0.0**\n    PHP: **4.0.0**\n    Python: **6.0.0**\n    Ruby: **4.0.0**"
}
[/block]

[block:api-header]
{
  "title": "Feature events"
}
[/block]
“Feature” events represent individual flag evaluations.  They have the following shape:
[block:code]
{
  "codes": [
    {
      "code": " {\n    \"kind\": \"feature\",\n    \"userKey\": \"feature@test.com\",\n    \"creationDate\": 1462220944000,\n    \"key\": \"my.feature.key\",\n    \"value\": false,\n    \"default\": false,\n    \"version\": 42,\n    \"prereqOf\": \"parent-flag\"\n  }",
      "language": "json"
    }
  ]
}
[/block]
The `kind` for a feature event is "feature".  A "feature" event will only by generated if the `trackEvents` attribute of the flag is set to `true` (also controlled in settings by the UI).  The `prereqOf` attribute should be set to a flag key if this flag evaluation was only performed in order to determine whether the prerequisite values were met for the indicated flag.  The `creationDate` is the feature flag was requested as Unix epoch time in milliseconds. The `key` is the key of the feature flag requested. The `value` is the value of the feature flag returned by feature flag evaluation. Finally, the `default` field, which is optional, is set to `true` if feature flag evaluation failed, in which case the value returned was the default value passed to `variation`. If the default field is omitted, it is assumed to be `false`.

The details of the "user" object used in a feature flag evaluation as reported by the "feature" event are transmitted periodically via a separate "index" event.  
[block:api-header]
{
  "title": "Index events"
}
[/block]
Index events are sent periodically to describe the attributes of users referenced by the "userKey" in "feature" events.  An "index" event has the following shape:
[block:code]
{
  "codes": [
    {
      "code": "  {\n    \"kind\": \"index\",\n    \"user\": {\n      \"custom\": {\n        \"groups\": [\n          \"microsoft\",\n          \"google\"\n        ]\n      }\n    },\n    \"creationDate\": 1462220944000,\n  }\n",
      "language": "json"
    }
  ]
}
[/block]
The `kind` for an index event is "index".   ​The `user` has the same schema as `user` objects for feature flag evaluation. The `creationDate` is the time this user was recorded the as a Unix epoch time in milliseconds.  The `value` is the value of the feature flag returned by feature flag evaluation. 
[block:callout]
{
  "type": "info",
  "title": "SDKs determine when index events are sent",
  "body": "The SDKs have internal logic that determines whether it's necessary to send an \"index\" event. Index events are not created for every flag evaluation."
}
[/block]

[block:api-header]
{
  "title": "Identify events"
}
[/block]
Identify events are produced when the client application calls the `identify` SDK method. Identify events have a similar structure to "index" events:
[block:code]
{
  "codes": [
    {
      "code": "{\n  \"kind\": \"identify\",\n  \"user\": {\n    \"key\": \"user@test.com\",\n    \"custom\": {\n      \"groups\": [\n        \"microsoft\",\n        \"google\"\n      ]\n    }\n  },\n  \"creationDate\": 1462220944000\n}",
      "language": "json"
    }
  ]
}
[/block]

[block:api-header]
{
  "title": "Custom events"
}
[/block]
Custom events are produced when the client application calls an SDK method called `track`. Custom events have the following shape:
[block:code]
{
  "codes": [
    {
      "code": "{\n  \"kind\": \"custom\",\n  \"user\": {\n    \"key\": \"user@test.com\"\n  },\n  \"creationDate\": 1416003645758,\n  \"key\": \"custom.event.key\",\n  \"data\": {\n    \"custom\": \"value\"\n  }\n}",
      "language": "json"
    }
  ]
}
[/block]
Most of the fields are self-explanatory. The `data` field is optional, and can contain any arbitrary JSON.
[block:api-header]
{
  "title": "Summary events"
}
[/block]
Summary events are sent periodically by SDKs to describe a set of feature evaluations.  Summary events include all feature evaluations, regardless of whether `trackEvents` field was set for individual flags.
[block:code]
{
  "codes": [
    {
      "code": "{\n  \"startDate\": 1517350765387,\n  \"endDate\":  1517350825243,\n  \"features\": {\n    \"flag-key\": {\n      \"default\": \"default-value\",\n      \"counters\": [\n        {\n          \"value\": \"result-value\"\n          \"version\": 17,\n          \"count\": 23,\n          \"variation\": 1,\n        },\n        {\n          \"value\": \"another-value\"\n          \"version\": 17,\n          \"count\": 2,\n          \"variation\": 0,\n        }\n      ]\n    },\n    \"another-flag-key\" :{\n      \"default\": \"some-other-result-value\",\n      \"counters\": [{\n        \"value\": \"some-other-result-value\",\n        \"version\": 19,\n        \"count\": 29,\n        \"variation\": null (or leave empty)\n      }],\n    \"nonexistent-flag-key\" : {\n      \"default\": false,\n      \"counters\": [\n        {\n          \"unknown\": true,\n          \"value\": false,\n          \"count\": 3,\n        }]\n    }\n}",
      "language": "json"
    }
  ]
}
[/block]
The summary event represents a set of feature flag evaluations occurring during an interval defined by startDate and endDate, broken out by feature flag.  For each feature flag, the following data is provided:
[block:parameters]
{
  "data": {
    "h-0": "Field",
    "h-1": "Meaning",
    "0-0": "default",
    "0-1": "the default value the SDK received for the feature (sampled at some point during the interval)",
    "1-0": "startDate",
    "2-0": "endDate",
    "1-1": "the timestamp of the first feature flag evaluation included in this packet.  This value is a UNIX  Epoch time in milliseconds.",
    "2-1": "the timestamp of the last feature flag evaluation included in this packet.  This value is a UNIX Epoch time in milliseconds.",
    "3-0": "counters",
    "3-1": "A set of counters as described below."
  },
  "cols": 2,
  "rows": 4
}
[/block]
The "counters" field is an array of objects with the following shape:
[block:parameters]
{
  "data": {
    "h-0": "Field",
    "h-1": "Meaning",
    "0-0": "version",
    "0-1": "the version of the feature flag evaluated",
    "1-0": "value",
    "1-1": "the value returned by the SDK for the flag evaluation",
    "2-0": "variation",
    "2-1": "A zero-based index into the list of variations.  If this field not provided, a default value was used.",
    "3-0": "count",
    "3-1": "the number of times this value/version/variation combination was an evaluation result during during the interval",
    "4-0": "unknown (optional)",
    "4-1": "if this is present and true it indicates that no flag by this name was known to LaunchDarkly (and therefore the SDK default value was returned)"
  },
  "cols": 2,
  "rows": 5
}
[/block]
There will be a separate entry for each unique value/version/variation combination seen during the interval.