---
path: '/sdk/server-side/dotnet'
title: '.NET SDK reference'
description: 'This topic explains all of the methods available in the server-side .NET SDK, with detail about how they work.'
published: true
---

This reference guide documents all of the methods available in the .NET SDK, and explains in detail how these methods work. If you want to dig even deeper, our SDKs are open source. To learn more, read [.NET SDK GitHub repository](https://github.com/launchdarkly/dotnet-server-sdk). The online [API docs](https://launchdarkly.github.io/dotnet-server-sdk/) contain the programmatic definitions of every type and method. Additionally you can clone and run a [sample application](https://github.com/launchdarkly/hello-dotnet) using this SDK.

<Callout intent="info">
  <CalloutTitle>For use in server-side applications only</CalloutTitle>
  <CalloutDescription>

  This SDK is intended for use in *multi-user* .NET server applications. If you have a .NET application and are looking to set up LaunchDarkly in a mobile, desktop, or embedded application, head to our [Xamarin SDK reference](/sdk/client-side/xamarin).

  To learn more, read [client-side and server-side SDKs](/sdk/concepts/client-side-server-side).

  </CalloutDescription>
</Callout>

## Getting started

<Callout intent="info">
  <CalloutTitle>Requirements</CalloutTitle>
  <CalloutDescription>
    The .NET SDK requires version 4.5 or later of the .NET framework or .NETCoreApp 1.0 or later.
  </CalloutDescription>
</Callout>


Building on top of our [Getting Started guide](/home/getting-started), the following steps will get you started with using the LaunchDarkly SDK in your .NET application.

The first step is to install the LaunchDarkly SDK as a dependency in your application using your application's dependency manager.

<CodeTabs
  defaultValue="shell"
  values={[
    { label: 'Shell', value: 'shell', },
  ]
}>
<CodeTabItem value="shell">

```bash
Install-Package LaunchDarkly.ServerSdk

# Note that in earlier versions, the package name was LaunchDarkly.Client
```

</CodeTabItem>
</CodeTabs>

Next you should import the LaunchDarkly client in your application code.

<CodeTabs
  defaultValue="csharp"
  values={[
    { label: '.NET', value: 'csharp', },
  ]
}>
<CodeTabItem value="csharp">

```csharp
using LaunchDarkly.Client;

// Note that this namespace is no longer the same as the package name
```

</CodeTabItem>
</CodeTabs>

Once the SDK is installed and imported, you'll want to create a single, shared instance of [`LdClient`](http://launchdarkly.github.io/dotnet-server-sdk/html/T_LaunchDarkly_Client_LdClient.htm). You should specify your SDK key here so that your application will be authorized to connect to LaunchDarkly and for your application and environment.

<CodeTabs
  defaultValue="csharp"
  values={[
    { label: '.NET', value: 'csharp', },
  ]
}>
<CodeTabItem value="csharp">

```csharp
LdClient ldClient = new LdClient("YOUR_SDK_KEY");
```

</CodeTabItem>
</CodeTabs>

<Callout intent="alert">
  <CalloutTitle>LDClient must be a singleton</CalloutTitle>
  <CalloutDescription>

It's important to make this a singleton. The client instance maintains internal state that allows us to serve feature flags without making any remote requests. Be sure that you're not instantiating a new client with every request.

  </CalloutDescription>
</Callout>

Using `ldClient`, you can check which variation a particular user should receive for a given feature flag.

<CodeTabs
  defaultValue="csharp"
  values={[
    { label: '.NET', value: 'csharp', },
  ]
}>
<CodeTabItem value="csharp">

```csharp
User user = User.WithKey(username);
bool showFeature = ldClient.BoolVariation("your.feature.key", user, false);
if (showFeature) {
    // application code to show the feature
}
else {
    // the code to run if the feature is off
}
```

</CodeTabItem>
</CodeTabs>

Lastly, when your application is about to terminate, shut down `ldClient` with [`Dispose()`](http://launchdarkly.github.io/dotnet-server-sdk/html/M_LaunchDarkly_Client_LdClient_Dispose.htm). This ensures that the client releases any resources it is using, and that any pending analytics events are delivered to LaunchDarkly. If your application quits without this shutdown step, you may not see your requests and users on the dashboard, because they are derived from analytics events. **This is something you only need to do once**.

<CodeTabs
  defaultValue="csharp"
  values={[
    { label: '.NET', value: 'csharp', },
  ]
}>
<CodeTabItem value="csharp">

```csharp
// shut down the client, since we're about to quit
ldClient.Dispose();
```

</CodeTabItem>
</CodeTabs>

## Transport Layer Security (TLS) and other networking issues

.NET applications running on older operating systems are prone to use older, less secure versions of TLS. It is possible to increase your application's security using AppContext switches.

To learn more, [read Microsoft's documentation](https://docs.microsoft.com/en-us/dotnet/framework/network-programming/tls#configuring-security-via-appcontext-switches-for-net-framework-46-or-later-versions).

<Callout intent="alert">
  <CalloutTitle>Potential network connectivity issues caused by DNS caching</CalloutTitle>
  <CalloutDescription>

LaunchDarkly servers operate in a load-balancing framework which may cause their IP addresses to change. This could
result in the SDK failing to connect to LaunchDarkly if an old IP address is still in your system's DNS cache. In
.NET, the DNS cache retains IP addresses for two minutes by default. If you are noticing intermittent connection
failures that always resolve in two minutes, you may want to change this setting to a lower value as described
[here](https://docs.microsoft.com/en-us/dotnet/api/system.NET.servicepointmanager.dnsrefreshtimeout?view=netframework-4.7.2).

  </CalloutDescription>
</Callout>

## Supported features

This SDK supports the following features:

* [Configuration](/sdk/features/config#net)
* [Evaluating flags](/sdk/features/variation#net)
* [Flag evaluation reasons](/sdk/features/variationdetail#net)
* [Flushing events](/sdk/features/flush#net)
* [Getting all flags](/sdk/features/all-flags#net)
* [Identifying and changing users](/sdk/features/identify#net)
* [Logging configuration](/sdk/features/logging#net)
* [Offline mode](/sdk/features/offline-mode#net)
* [Persistent feature store](/sdk/features/database-integrations#net)
* [Secure mode](/sdk/features/secure-mode#net)
* [Sending custom events](/sdk/features/track#net)
* [Shutting down](/sdk/features/shutdown#net)
