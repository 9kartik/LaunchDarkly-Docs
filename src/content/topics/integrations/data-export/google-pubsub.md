---
title: "Google Cloud Pub/Sub"
excerpt: ""
---
## Overview
Google Cloud Pub/Sub destinations let you export all of the flag evaluation and event data generated by LaunchDarkly SDKs into a Google Cloud Pub/Sub topic. This export behavior is referred to as *publishing*.

This topic explains how to create a Google Cloud Pub/Sub destination.
## Prerequisites
In order for LaunchDarkly to send events to your Google Cloud Pub/Sub topic, you need the `projectId` and `topicId` for the Google Cloud Pub/Sub topic to which you want us to publish. 

Find this information in the [Google Cloud Pub/Sub topic list](https://console.cloud.google.com/cloudpubsub/topicList), as pictured below.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/d594cc5-Screen_Shot_2018-12-04_at_3.05.52_PM.png",
        "Screen Shot 2018-12-04 at 3.05.52 PM.png",
        762,
        320,
        "#dbe8f7"
      ],
      "caption": "After picking the topic, you can find the projectId and topicId."
    }
  ]
}
[/block]

## Granting Publish Access to LaunchDarkly
After you identify the Pub/Sub topic you wish to publish to, you must grant LaunchDarkly's Google Cloud Service Account publish access to that topic. 

To grant publish access:

1. In your Google Cloud Console, navigate to the [Pub/Sub topic list](https://console.cloud.google.com/cloudpubsub/topicList).
2. Select a topic by clicking the checkboxes to the left of each topic name. Once you choose a topic, *Permissions* options appear.
3. Paste LaunchDarklyâ€™s Service Account email: `prod-event-recorder@firehose-publish.iam.gserviceaccount.com` into the **Add Members** field.
4. Click the **Select a Role** dropdown and choose "Pub/Sub Publisher".
5. Click **Add**.

If you configured your account correctly, our Service Account email appears as a Pub/Sub Publisher, as pictured below.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/e447abc-Screen_Shot_2018-02-07_at_9.52.53_AM.png",
        "Google Cloud Pub/Sub Publishers",
        412,
        349,
        "#f8f4f5"
      ],
      "caption": "Verify you see the LaunchDarkly Service account email as a Pub/Sub Publisher."
    }
  ]
}
[/block]

## Connecting the Pub/Sub Topic to LaunchDarkly
The final step is to connect your topic to LaunchDarkly.


1. Log into LaunchDarkly.
2. Click into the **[Integrations page](https://app.launchdarkly.com/default/integrations)**.
3. Click on the Google Cloud Pub/Sub icon or, if this is not your first destination, click the **Add Destination** drop down.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/753b9c5-Screen_Shot_2018-12-04_at_4.24.28_PM.png",
        "Screen Shot 2018-12-04 at 4.24.28 PM.png",
        1329,
        597,
        "#d6d8d5"
      ],
      "caption": "Click on the Google Cloud Pub/Sub card or the Add destination drop down"
    }
  ]
}
[/block]
4. Enter a **Name** for the destination.
5. Choose an **Environment** from the drop-down list.
6. Enter the **Topic** ID.
7. Enter the **Project** ID.
8. Click **Save Destination**.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/43dedde-Screen_Shot_2018-12-04_at_4.25.16_PM.png",
        "Screen Shot 2018-12-04 at 4.25.
1. PM.png",
        1343,
        922,
        "#b4b5b3"
      ],
      "caption": "Add the `projectId` and `topicId` as noted from Google Cloud. Choose an appropriate name and environment."
    }
  ]
}
[/block]

## Testing the Google Cloud Pub/Sub Destination
After you've saved the destination, send a test event to confirm that the destination is configured properly.


1. In the Send a test event section, click **Send Event**.
2. If you have configured the destination correctly, an event is logged in the Google Cloud Pub/Sub destination.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/947fd29-Screen_Shot_2018-12-04_at_4.25.26_PM.png",
        "Screen Shot 2018-12-04 at 4.25.26 PM.png",
        1343,
        920,
        "#b3b4b3"
      ],
      "caption": "Send a test event to your topic"
    }
  ]
}
[/block]

## Enabling data export for flags and environments
After you create a data export destination, you must start sending flag or environment event data to it. You can enable data export for individual flags, or for all the flags in an environment.

To learn more about exporting event data from flags and environments, read [Exporting event data for flags and environments](./data-export#exporting-event-data-for-flags-and-environments).
## Deleting a Google Cloud Pub/Sub destination
You can delete a data export destination from the **Integrations** screen.

To delete a destination:

1. Navigate to the **Integrations** screen.
2. Find the destination you wish to delete and click **Edit**. The "Create a destination" screen opens.
3. Click **Delete Destination**.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/530e601-Screen_Shot_2019-07-10_at_11.02.00_AM.png",
        "Screen Shot 2019-07-
1. at 11.02.00 AM.png",
        359,
        141,
        "#f7f6f6"
      ],
      "caption": "The Delete destination section."
    }
  ]
}
[/block]